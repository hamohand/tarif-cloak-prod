# ===============================================================
# FICHIER D'ENVIRONNEMENT (.env) POUR UN PROJET FULL-STACK
# Stack : Angular (Frontend) | Spring Boot (Backend) | PostgreSQL (DB)
#
# Instructions :
# 1. Copiez ce fichier en tant que '.env' à la racine de votre projet.
# 2. Changez les valeurs ci-dessous, notamment les domaines et les mots de passe.
# 3. Assurez-vous d'ajouter .env à votre fichier .gitignore !
# ===============================================================

# ==================================
# VARIABLES GLOBALES DU PROJET
# ==================================
# Préfixe utilisé pour les noms de conteneurs pour une identification facile
PROJECT_NAME=tarif-secur
# Profil Spring Boot à activer (ex: prod, dev, test)
SPRING_PROFILES_ACTIVE=dev
# Nom du réseau externe de Traefik
TRAEFIK_NETWORK=webproxy

# ============
# DOCKER
# ============
# Noms et ports internes sont utilisés dans compose.yaml ou compose.prod.yaml pour les noms de conteneurs et les règles Traefik
# 2 bases de données
#application
DB_SERVICE_NAME=app-db
DB_HOST_PORT=5432
#keycloak
DB_KEYCLOAK_SERVICE_NAME=keycloak-db
KEYCLOAK_DB_PORT=5433
#
SECURITE_SERVICE_NAME=keycloak
SECURITE_INTERNAL_PORT=8080
#
BACKEND_SERVICE_NAME=backend
BACKEND_INTERNAL_PORT=8081
#
FRONTEND_SERVICE_NAME=frontend
FRONT_HOST_PORT=4200
#
# Volume Docker pour la persistance des données PostgreSQL
DB_VOLUME_NAME="${PROJECT_NAME}-data"
# Réseau Docker
NETWORK_NAME="${PROJECT_NAME}-network"

# ============================
# Base de Données (PostgreSQL)
# ============================
# Identifiants
POSTGRES_DB="${PROJECT_NAME}-app-db"
POSTGRES_USER
POSTGRES_PASSWORD
# ============================
# Base de Données KEYCLOAK (PostgreSQL)
# ============================
KEYCLOAK_DB="${PROJECT_NAME}-keycloak-db"
KEYCLOAK_DB_USER
KEYCLOAK_DB_PASSWORD

# ============================
# Sécurité (Keycloak)
# ============================
#KEYCLOAK_REALM="${PROJECT_NAME}"
KEYCLOAK_REALM="${PROJECT_NAME}-realm"
#KEYCLOAK_ADMIN_USER="${POSTGRES_USER}"
KEYCLOAK_ADMIN_USER
#KEYCLOAK_ADMIN_PASSWORD="${POSTGRES_PASSWORD}"
KEYCLOAK_ADMIN_PASSWORD
KEYCLOAK_HOSTNAME=localhost
KEYCLOAK_EXTERNAL_URL=http://localhost:8080
KEYCLOAK_INTERNAL_URL=http://keycloak:8080
KEYCLOAK_BACKEND_CLIENT_SECRET
#
KEYCLOAK_FRONTEND_CLIENT=frontend-client
KEYCLOAK_BACKEND_CLIENT=backend-client
KEYCLOAK_DEVMODE=false

# =========================
# BACKEND (SPRING BOOT)
# =========================

# ======================
# FRONTEND (ANGULAR)
# ======================
# Port interne du conteneur frontend (utilisé par Traefik)
FRONTEND_INTERNAL_PORT=80
# Domaine public principal pour l'application Angular
FRONTEND_DOMAIN=tarif.enclume-numerique.com
# Domaine alternatif (souvent www)
WWW_FRONTEND_DOMAIN=www.tarif.enclume-numerique.com
# Sert uniquement en mode développemnt ???

# URL de l'API que l'application Angular doit appeler.
# !! IMPORTANT !! : Cette variable doit être injectée dans votre build Angular
# (par exemple, via le fichier `src/environments/environment.prod.ts`)
# Le domaine doit correspondre à celui du backend ci-dessous.
NG_BACKEND_API_URL=https://tarif.enclume-numerique.com/api

### AI
OPENAI_API_KEY
ANTHROPIC_API_KEY
OLLAMA_API_KEY